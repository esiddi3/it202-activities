<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Activity 5.1 (IT 202)</title>
    <style> 
       IMG {width:100%}; 
    </style>
</head>

<body>
 
<script>
    
let apiEndpoint= "https://api.nytimes.com/svc/search/v2/articlesearch.json?q=Chicago&api-key=l4TaX4wafpJ0237rMRRx3MSEFSoeWfAF";
    fetch(apiEndpoint)
//    .then(response => {return response.json()}) // JSON handler to loop through the array, and console.log each record 
//     .then(json => console.log(json)) // console.log each record
//     .catch(err =>alert(err))
    //
    //using nyt url, fetching data, log the json to console examine dat and determine what elemtn is the array of articles
   
    
    
//     .then(response => {return response.json()})
//     .then(json => {
//         for (let article of json.response.docs{
//              document.body.append(article["headline"]["main"]);
//     })})
             
    
    
    fetch(apiEndpoint) //fetch returns a promise, asynh
   .then(response => {return response.json()}) //when data comes backs, envoke the json to response obj
   .then(json => {
       
   for (let article of json.response.docs){   //naming the loop array "article", for each article in the array of docs,
        
        let p = document.createElement("p");  //creating a new paragraph element
        p.textContent = article["headline"]["main"]; //set that new prop with the text content from article headlin andmain
       document.body.append(p)
        
   }} )

    </script>
 

    
</body>


</html>